document.addEventListener("DOMContentLoaded",()=>{"use strict";const doSaveScroll=()=>{localStorage.setItem("bookmark"+location.pathname,window.scrollY)},scrollToMark=()=>{let top=localStorage.getItem("bookmark"+location.pathname);top=parseInt(top,10),isNaN(top)||""!==location.hash||window.anime({targets:document.scrollingElement,duration:200,easing:"linear",scrollTop:top})};!function(trigger){const link=document.querySelector(".book-mark-link");window.addEventListener("scroll",()=>link.classList.toggle("book-mark-link-fixed",0===window.scrollY)),"auto"===trigger&&(window.addEventListener("beforeunload",doSaveScroll),document.addEventListener("pjax:send",doSaveScroll)),link.addEventListener("click",()=>{doSaveScroll(),window.anime({targets:link,duration:200,easing:"linear",top:-30,complete:()=>{setTimeout(()=>{link.style.top=""},400)}})}),scrollToMark(),document.addEventListener("pjax:success",scrollToMark)}(CONFIG.bookmark.save)});