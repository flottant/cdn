function say(content,author,from){document.querySelector("#say-content").innerText=content,author&&(document.querySelector("#say-author").innerText=author),from&&(document.querySelector("#say-from").innerText="「"+from+"」")}CONFIG.say.api&&fetch(new Request(CONFIG.say.api)).then(res=>{if(!res.ok)throw new Error(CONFIG.say.api+", HTTP error, status = "+res.status);res.json().then(data=>{if(CONFIG.say.hitokoto)say(data.hitokoto,data.from_who,data.from);else{let sentence=data[Math.floor(Math.random()*data.length)];sentence.content?say(sentence.content,sentence.author,sentence.from):say(sentence)}})}).catch(err=>{console.log("error: "+err.message)});